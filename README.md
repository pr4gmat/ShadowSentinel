## Практическое задание

Требуется реализовать две программы:  
1) программу-сторож;  
2) программу-сканер.

Анализ включает в себя в первую очередь ответы на вопросы:  
что делали? что получилось? почему получилось так?

---

## 0. Теоретическое задание

Ознакомиться с теоретическим материалом по управлению памятью ОС Windows и Linux, а также по взаимодействию с виртуальным адресным пространством (ВАП).

---

## 1. Программа-сторож

### 1.1 Функциональные требования

При запуске программа-сторож:

- создаёт файл с заранее известным содержимым (например, числами от 0 до 2^32−1);  
- проецирует его в память;  
- остаётся в памяти и регулярно проверяет:
  - содержимое проекции файла;  
  - начальный фрагмент заголовка какой-нибудь системной библиотеки (например, libstdc.so или kernel32.dll), загруженной в память,  
- на неизменность.

---

## 2. Программа-сканер

### 2.1 Анализ виртуального адресного пространства

Необходимо реализовать в программе:

- функциональность получения информации о состоянии страниц, находящихся в пользовательской области адресов памяти;  
- для страниц, содержащихся в ВАП, получение атрибутов защиты, предоставляемой ОС;  
- представление атрибутов защиты:
  - в числовом виде;  
  - (необязательно) в текстовом, декодированном виде.

Дополнительное задание (не обязательное):  
реализовать сканер ВАП других программ.

---

### 2.2 Список загруженных модулей

Реализовать получение:

- списка модулей, загруженных в ВАП программы;  
- информации о размере модулей;  
- базе их загрузки.

---

### 2.3 Модификация памяти

По команде оператора необходимо:

1. изменить атрибуты защиты страницы, в которой содержится контролируемый программой-сторожем заголовок системной библиотеки;  
2. модифицировать участок памяти, содержащий заголовок системной библиотеки  
   (например, заполнить страницу нулями);  
3. проверить работу программы-сканера:
   - попытаться импортировать функцию из повреждённой библиотеки;  
4. спроецировать файл, созданный программой-сторожем, на ВАП программы-сканера;  
5. модифицировать участок памяти, соответствующий проекции контролируемого файла.

Дополнительное задание (не обязательное):

- присвоить пробной странице различные права доступа;  
- продемонстрировать эффект от различных прав;  
- проанализировать полученные результаты.
